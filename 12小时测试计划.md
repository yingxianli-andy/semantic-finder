# 12小时测试计划

**可用时间**: 12小时  
**目标**: 评估可以跑多大的数据集

---

## 📊 数据集规模

### 完整数据集

- **文件**: twitter_combined.txt
- **文件大小**: 22 MB
- **节点数**: 76,245
- **边数**: 1,242,404

### 当前测试使用的数据集

- **子图采样**: 5,000 节点（6.6%）
- **性能**: 每个Step约6秒，单次运行约30秒

---

## ⏱️ 时间估算

### 基于5000节点子图的性能基准

- **5000节点**: 每个Step约6秒
- **5个Step**: 约30秒
- **2次运行**: 约1分钟

### 不同规模的时间估算（保守估算）

| 节点数 | 每个Step | 单次运行 | 2次运行 | 5次运行 | 10次运行 |
|--------|----------|----------|---------|---------|----------|
| 5,000 | 6秒 | 0.5分钟 | 1分钟 | 2.5分钟 | 5分钟 |
| 10,000 | 17秒 | 1.4分钟 | 2.8分钟 | 7分钟 | 14分钟 |
| 20,000 | 48秒 | 4分钟 | 8分钟 | 20分钟 | 40分钟 |
| 50,000 | 3.8分钟 | 19分钟 | 38分钟 | 1.6小时 | 3.2小时 |
| **76,245** | **6.8分钟** | **34分钟** | **1.1小时** | **2.8小时** | **5.7小时** |

*注：基于O(n^1.5)复杂度估算，实际可能更快或更慢*

---

## ✅ 12小时可以跑什么？

### 方案1: 完整数据集，多次运行（推荐）

- **完整数据集单次运行**: 约34-68分钟
- **12小时可以跑**: 约10-20次运行
- **建议**: 跑5-10次运行（取平均，结果更可靠）

**优点**:
- ✅ 验证模型在真实规模上的效果
- ✅ 多次运行取平均，结果更可靠
- ✅ 符合开发文档要求

**命令**:
```bash
# 跑10次运行（预计5-10小时）
python experiments/test.py \
    --model_path results/models/final_model.pth \
    --dataset_name twitter_combined.txt \
    --budget 5 \
    --n_runs 10 \
    --device cuda \
    --use_llm
```

---

### 方案2: 完整数据集 + 消融实验

**配置1**: 完整数据集，variance方法，使用LLM
- 预计: 2-3小时

**配置2**: 完整数据集，weighted_disagreement方法，使用LLM
- 预计: 2-3小时

**配置3**: 完整数据集，echo_chamber方法，使用LLM
- 预计: 2-3小时

**配置4**: 完整数据集，不使用LLM（对比）
- 预计: 2-3小时

**总计**: 8-12小时

---

### 方案3: 逐步扩大数据集

1. **10,000节点**: 约14分钟（2次运行）
2. **20,000节点**: 约40分钟（2次运行）
3. **50,000节点**: 约3.2小时（2次运行）
4. **完整数据集**: 约5.7小时（10次运行）

**总计**: 约10小时

---

## 🎯 推荐方案

### 最佳方案：完整数据集 + 多次运行

**配置**:
- 数据集: 完整数据集（76,245节点）
- 运行次数: 10次
- 预计时间: 5-10小时
- 剩余时间: 可用于其他测试

**优点**:
- ✅ 验证模型在真实规模上的效果
- ✅ 多次运行取平均，结果更可靠
- ✅ 符合开发文档要求
- ✅ 时间充足，可以完成

**执行命令**:
```bash
# 后台运行，10次运行
nohup python3 experiments/test.py \
    --model_path results/models/final_model.pth \
    --dataset_name twitter_combined.txt \
    --budget 5 \
    --n_runs 10 \
    --device cuda \
    --use_llm \
    > test_full_10runs.log 2>&1 &

# 监控
tail -f test_full_10runs.log
```

---

## 📋 执行计划

### 今晚启动

1. **启动完整数据集测试（10次运行）**
   - 预计时间: 5-10小时
   - 明早可以查看结果

2. **可选：如果还有时间，启动其他测试**
   - 不同奖励方法
   - 不同配置

### 明早检查

1. 检查测试是否完成
2. 查看测试结果
3. 分析结果
4. 生成报告

---

## ✅ 结论

**12小时足够跑完整数据集！**

- ✅ 可以跑完整数据集（76,245节点）
- ✅ 建议跑10次运行（取平均）
- ✅ 预计需要5-10小时
- ✅ 时间充足，可以完成

**建议**: 今晚启动完整数据集的10次运行测试，明早查看结果。

---

**最后更新**: 2024-01-09

